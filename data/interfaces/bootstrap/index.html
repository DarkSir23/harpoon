<%inherit file="base.html"/>
<%!
    import harpoon
    import threading
    from collections import OrderedDict
%>
<%def name="headerIncludes()">
    <div id="subhead_container" class="row">
      <form action="search" method="get">
        <div id="subhead_menu"  class="col-xs-12 col-md-8">
            <a href="confirm?action=clearFailed" class="btn btn-sm btn-primary" id="clearfailed"><i class="fa fa-remove"></i> Clear Failed</a>
            <a href="confirm?action=clearCompleted" class="btn btn-sm btn-primary" id="clearcompleted"><i class="fa fa-remove"></i> Clear Finished</a>
            <a href="confirm?action=restart" class="btn btn-sm btn-warning" id="restart"><i class="fa fa-refresh"></i> Restart Harpoon</a>
        </div>
        <div class="clearfix visible-xs"><hr/></div>
        <div class="col-xs-12 col-md-4">
<!--    <div class="form-group">
          <label class="sr-only">Search</label>
          <div class="input-group">
            <input type="text"  id="name" name="name" placeholder="Player / Event / Opponent" name="title" class="form-control input-sm col-xs-12">
            <span class="input-group-btn">
              <button type="submit" value="Book" class="btn btn-sm btn-primary" data-toggle="tooltip" data-placement="bottom" title="Search"><i class="fa fa-search"></i></button>
            </span>
          </div>
        </div>
 -->
        </div>
      </form>
    </div>
</%def>
<%def name="body()">
% if msg:
    <div class="alert alert-info" style="text-align: center; padding: 8px;">
        ${msg}
    </div>
% endif
<div id="active_content"></div>
<h1>${title}</h1>
<div>
    test
</div>
<div id="table-content" class="table-responsive">
Test2

</div>
</%def>

<%def name="javascriptIncludes()">
<script language="javascript" type="text/javascript">
function loadlink(){
    $('#table-content').load('table_content',function () {
    });
}
function loadactive(){
    $('#active_content').load('active_content', function () {
    });
}
loadlink(); // This will run on page load
loadactive();
setInterval(function(){
    loadlink() // this will run after every 5 seconds
}, 5000);
setInterval(function(){
    loadactive()
}, 500);
</script>
</%def>