<%inherit file="base.html"/>
<%!
    import harpoon
    import threading
    from collections import OrderedDict
%>
<%def name="headerIncludes()">
<li class="nav-item pl-2 pt-1"><a href="confirm?action=clearFailed" class="btn btn-sm btn-primary" id="clearfailed"><i class="fa fa-remove"></i> Clear Failed</a></li>
<li class="nav-item pl-2 pt-1"><a href="confirm?action=clearCompleted" class="btn btn-sm btn-primary" id="clearcompleted"><i class="fa fa-remove"></i> Clear Finished</a></li>
<li class="nav-item pl-2 pt-1"><a href="confirm?action=restart" class="btn btn-sm btn-warning" id="restart"><i class="fa fa-refresh"></i> Restart Harpoon</a></li>
</%def>
<%def name="body()">
% if msg:
    <div class="alert alert-info" style="text-align: center; padding: 8px;">
        ${msg}
    </div>
% endif
<div id="active_content" class="container">

</div>
<div class="container"><h3>${title}</h3></div>
<div id="table-content" class="container">

</div>
</%def>

<%def name="javascriptIncludes()">
<script language="javascript" type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', loadlink, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', loadlink);
}
function loadlink(){
    $('#table-content').load('table_content',function () {
    });
}
function loadactive(){
    $('#active_content').load('active_content', function () {
    });
}
loadlink(); // This will run on page load
loadactive();
setInterval(function(){
    loadlink() // this will run after every 5 seconds
}, 5000);
setInterval(function(){
    loadactive()
}, 500);
</script>
</%def>